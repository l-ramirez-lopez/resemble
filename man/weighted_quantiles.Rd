% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/funlib.R
\name{weighted_quantiles}
\alias{weighted_quantiles}
\title{Compute weighted quantiles}
\usage{
weighted_quantiles(x, weights, probs = c(0.05, 0.25, 0.5, 0.75, 0.95))
}
\arguments{
\item{x}{A numeric vector of observations.}

\item{probs}{A numeric vector of probabilities in \link{0, 1} specifying the
quantile levels to compute (e.g., \code{c(0.25, 0.5, 0.75)}).}

\item{w}{A numeric vector of non-negative weights, the same length as \code{x}.
Weights are internally normalized to sum to 1.}
}
\value{
A numeric vector of weighted quantiles corresponding to \code{probs}.
}
\description{
Computes weighted quantiles from a numeric vector and associated weights.
Observations are sorted, weights are normalized to sum to 1, and
cumulative weights are used to determine quantile positions via linear
interpolation.
}
\details{
The function uses a weighted version of the empirical cumulative
distribution function (CDF). It sorts \code{x} and applies normalized weights
to compute cumulative sums, which are then used to interpolate the
quantiles at specified \code{probs}. Ties in cumulative weights are averaged.

This function is designed for internal use and is not exported.
}
\examples{
x <- c(1, 2, 3, 4, 5)
w <- c(1, 1, 2, 2, 4)
weighted_quantiles(x, w, probs = c(0.25, 0.5, 0.75))

}
\keyword{internal}
