% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/funlib.R
\name{ith_pred_subsets}
\alias{ith_pred_subsets}
\title{Iterator for Prediction Subsets (PLS Local Models)}
\usage{
ith_pred_subsets(plslib, Xu, xunn, xscale, dxrxu = NULL)
}
\arguments{
\item{plslib}{Matrix of PLS regression vectors (one per reference spectrum).}

\item{Xu}{Matrix of new observations to predict (rows = samples).}

\item{xunn}{Matrix of nearest neighbor indices for each row of Xu.}

\item{xscale}{Matrix of scaling vectors for each reference model.}

\item{dxrxu}{Optional dissimilarity matrix (ref vs. new samples).}
}
\value{
An iterator of class \code{isubset}, \code{abstractiter}, \code{iter}. Each call
to \code{nextElem()} yields:
\itemize{
\item \code{iplslib}: Local PLS regression vectors for neighbors.
\item \code{ixscale}: Scaling vectors for those models.
\item \code{ixunn}: Indices of nearest neighbors for prediction.
\item \code{ixu}: New observation from \code{Xu} to predict.
\item \code{idxrxu}: (Optional) dissimilarity vector to neighbors.
}
}
\description{
Internal helper to iterate over prediction inputs for local PLS models.
}
\details{
For each new sample in \code{Xu}, retrieves its nearest neighbors, along
with corresponding PLS vectors, scaling vectors, and optional
dissimilarity values. Intended for local PLS prediction routines.
}
\author{
Leonardo Ramirez-Lopez
}
\keyword{internal}
